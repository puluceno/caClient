<!DOCTYPE html>
<html ng-app="caSearch">
<head>
  <title>Busca de CAs</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Busca de CAs" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="css/starter-template.css" type="text/css" />
</head>

<body>
  <div class="container">
    <div class="starter-template">
      <h1>Busca de CAs</h1>
    </div>

    <div class="container">
    <form name="searchForm" ng-controller="SearchController as searchCtrl" ng-submit="searchCtrl.submitForm()" novalidate>
      <div class="col-sm-4 filters">
        <p>Número do CA:</p>
        <input ng-model="searchCtrl.search.number" maxlength="5" class="form-control" type="text" placeholder="Número exato do CA" required>
      </div>

      <div class="col-sm-4 filters">
        <p>Nome da Empresa:</p>
        <input ng-model="searchCtrl.search.company" class="form-control" type="text" placeholder="Nome da Empresa. Ex: Fiat" />
      </div>

      <div class="col-sm-4 filters">
        <p>Aprovado para:</p>
        <input ng-model="searchCtrl.search.approvedFor" class="form-control" type="text" placeholder="Finalidade para qual o equipamento foi aprovado" />
      </div>

      <div class="col-sm-4 filters">
        <p>Validade do CA:</p>
        <span>Válido: </span><input type="checkbox" name="valid" ng-model="searchCtrl.search.status"/>
        <span>Vencido:</span> <input type="checkbox" name="expired" ng-model="searchCtrl.search.status"/>
      </div>

      <div class="col-sm-4 filters">
        <p>Equipamento:</p>
        <input ng-model="searchCtrl.search.equipment" class="form-control" type="text" placeholder="Nome do equipamento. Ex: Luva" />
      </div>

      <div class="col-sm-2 col-sm-offset-1 filters">
      <p></p>
        <input class="btn btn-primary btn-lg center-block" type="submit" value="Buscar CA&raquo;"/>
      </div>
      </form>
    </div>

    <div class="table-responsive" style="border-style: solid;" ng-controller="CaController as ca">
    <table class="table">
    <thead style="font-weight: bold;">
    	<td>Número</td>
    	<td>Validade</td>
    	<td>Situação</td>
    	<td>Empresa</td>
    	<td>Equipamento</td>
    	<td>Descrição</td>
    </thead>
    	<tr ng-repeat="unit in ca.units">
    	<td>{{unit.number}}</td>
    	<td>{{unit.date}}</td>
    	<td class="text-capitalize">{{unit.status | lowercase}}</td>
    	<td class="text-capitalize" title={{unit.company}}>{{unit.company | lowercase | limitTo:20}}{{unit.company.length > 20 ? '...' : ''}}</td>
    	<td class="text-capitalize" title={{unit.equipment}}>{{unit.equipment | lowercase | limitTo:20}}{{unit.description.length > 20 ? '...' : ''}}</td>
    	<td class="text-capitalize" title={{unit.description}}>{{unit.description | lowercase | limitTo:35}}{{unit.description.length > 35 ? '...' : ''}}</td>
    	</tr>
    </table>


    </div>

    <p style="padding-top: 25px;"><a class="btn btn-primary btn-lg" href="#" role="button">Gerar PDF &raquo;</a></p>
  </div>

<script src="js/jquery.min.js" type="text/javascript"></script>
<script src="js/bootstrap.min.js" type="text/javascript"></script>
<script src="js/angular.min.js" type="text/javascript"></script>
<script src="js/angular-route.min.js" type="text/javascript"></script>
<script src="js/angular-locale_pt-br.js" type="text/javascript"></script>
<script src="js/modules/app.js" type="text/javascript"></script>
</body>
</html>
